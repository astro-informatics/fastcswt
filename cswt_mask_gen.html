<HTML>
<HEAD>
   <TITLE> program cswt_mask_gen (generated by f90doc) </TITLE>
  <LINK rel="stylesheet" href="stylesheet.css" type="text/css" /> </HEAD>
<H1> Program cswt_mask_gen </H1>
<PRE>program cswt_mask_gen

        ! Uses
    use <A HREF="s2_types_mod.html">s2_types_mod</A>
    use <A HREF="s2_sky_mod.html">s2_sky_mod</A>
    use <A HREF="cswt_error_mod.html">cswt_error_mod</A>
    use <A HREF="cswt_tr_mod.html">cswt_tr_mod</A>

        ! Calls
    call cswt_error
    call cswt_tr_free
    call cswt_tr_io_fits_write_wcoeff
    call cswt_tr_mask_gen
    call parse_options
    call s2_sky_free

        ! Variables
    character (len=S2_STRING_LEN), parameter :: <A HREF="cswt_mask_gen.html#var_wav_type_mexhat">WAV_TYPE_MEXHAT</A> = 'mexhat'
    character (len=S2_STRING_LEN), parameter :: <A HREF="cswt_mask_gen.html#var_wav_type_morlet">WAV_TYPE_MORLET</A> = 'morlet'
    real (kind=s2_sp), parameter :: <A HREF="cswt_mask_gen.html#var_thres1_prop_mexhat">THRES1_PROP_MEXHAT</A> = 0.25e0
    real (kind=s2_sp), parameter :: <A HREF="cswt_mask_gen.html#var_thres2_prop_mexhat">THRES2_PROP_MEXHAT</A> = 0.9e0
    real (kind=s2_sp), parameter :: <A HREF="cswt_mask_gen.html#var_thres1_prop_morlet">THRES1_PROP_MORLET</A> = 0.8e0
    real (kind=s2_sp), parameter :: <A HREF="cswt_mask_gen.html#var_thres2_prop_morlet">THRES2_PROP_MORLET</A> = 0.01e0
    real (kind=s2_sp), parameter :: <A HREF="cswt_mask_gen.html#var_thres1_min_mexhat">THRES1_MIN_MEXHAT</A> = 1.0e-3
    real (kind=s2_sp), parameter :: <A HREF="cswt_mask_gen.html#var_thres1_min_morlet">THRES1_MIN_MORLET</A> = 5.0e-4
    character (len=S2_STRING_LEN) :: <A HREF="cswt_mask_gen.html#var_filename_wcoeff">filename_wcoeff</A>
    character (len=S2_STRING_LEN) :: <A HREF="cswt_mask_gen.html#var_filename_sky">filename_sky</A>
    character (len=S2_STRING_LEN) :: <A HREF="cswt_mask_gen.html#var_filename_out">filename_out</A>
    character (len=S2_STRING_LEN) :: <A HREF="cswt_mask_gen.html#var_wavelet_type">wavelet_type</A>
    integer :: <A HREF="cswt_mask_gen.html#var_file_extension_sky">file_extension_sky</A>
    type (s2_sky) :: <A HREF="cswt_mask_gen.html#var_sky_mask">sky_mask</A>
    type (cswt_tr) :: <A HREF="cswt_mask_gen.html#var_tr_mask">tr_mask</A>
    logical :: <A HREF="cswt_mask_gen.html#var_mode_cswt">mode_cswt</A> = .false.
    logical :: <A HREF="cswt_mask_gen.html#var_mode_morph">mode_morph</A> = .false.
    logical :: <A HREF="cswt_mask_gen.html#var_mode_convert">mode_convert</A> = .false.

        ! Subroutines and functions
    subroutine <A HREF="cswt_mask_gen.html#subroutine_parse_options">parse_options</A> ()

end program cswt_mask_gen
</PRE>
 Generate an extended coefficient exclusion mask defined in the ecp
 wavelet coefficient domain from an original mask defined on the sky and 
 the spherical wavelet transform of the original mask.
<P>
 Notes:
   <UL>
   <LI>  Morphological operation method is reccommended.  Otherwise parameters 
     must be tunned to application.
<P>
   </UL>
 Usage: cswt_mask_gen
   <UL>
   <LI>  [-help]: Display usage information.
   <LI>  [-wcoeff filename_wcoeff]: Name of input wavelet coefficient file 
     containing coefficients of the original mask considered.
   <LI>  [-sky filename_sky]: Name of the input mask sky file containing the
     original mask defined on the sky
   <LI>  [-ext file_extension]: File extension number mask sky is stored in.
   <LI>  [-morph mode_morph]: If true use morphological operator method.
   <LI>  [-convert mode_convert]: If true just convert sky mask to wavelet
     domain.
   <LI>  [-cswt mode_cswt]: If true use spherical wavelet coefficients and 
     thresholding technique.
   <LI>  [-out filename_out]: Name of output extended coefficient exclusion 
     mask file.
   <LI>  [-wav wavelet_type (only required if method is cswt)]: Wavelet type 
      mask corresponds to. 
     (Alters parameters used to generate the extended mask.)
   </UL>
<P>
<STRONG>Author:</STRONG> J. D. McEwen (mcewen@mrao.cam.ac.uk)
<P>
<STRONG>Version:</STRONG> 0.1 - November 2004

<HR><H2> Description of Variables </H2>
<A NAME="var_wav_type_mexhat"><H3>WAV_TYPE_MEXHAT</H3></A>
<PRE>character (len=S2_STRING_LEN), parameter :: WAV_TYPE_MEXHAT = 'mexhat'
</PRE>
<A NAME="var_wav_type_morlet"><H3>WAV_TYPE_MORLET</H3></A>
<PRE>character (len=S2_STRING_LEN), parameter :: WAV_TYPE_MORLET = 'morlet'
</PRE>
<A NAME="var_thres1_prop_mexhat"><H3>THRES1_PROP_MEXHAT</H3></A>
<PRE>real (kind=s2_sp), parameter :: THRES1_PROP_MEXHAT = 0.25e0
</PRE>
 reduce slowly
 increase slowly
<A NAME="var_thres2_prop_mexhat"><H3>THRES2_PROP_MEXHAT</H3></A>
<PRE>real (kind=s2_sp), parameter :: THRES2_PROP_MEXHAT = 0.9e0
</PRE>
 reduce slowly
 increase slowly
<A NAME="var_thres1_prop_morlet"><H3>THRES1_PROP_MORLET</H3></A>
<PRE>real (kind=s2_sp), parameter :: THRES1_PROP_MORLET = 0.8e0
</PRE>
 reduce slowly
 increase slowly
<A NAME="var_thres2_prop_morlet"><H3>THRES2_PROP_MORLET</H3></A>
<PRE>real (kind=s2_sp), parameter :: THRES2_PROP_MORLET = 0.01e0
</PRE>
 reduce slowly
 increase slowly
<A NAME="var_thres1_min_mexhat"><H3>THRES1_MIN_MEXHAT</H3></A>
<PRE>real (kind=s2_sp), parameter :: THRES1_MIN_MEXHAT = 1.0e-3
</PRE>
 reduce slowly
 increase slowly
<A NAME="var_thres1_min_morlet"><H3>THRES1_MIN_MORLET</H3></A>
<PRE>real (kind=s2_sp), parameter :: THRES1_MIN_MORLET = 5.0e-4
</PRE>
 reduce slowly
 increase slowly
<A NAME="var_filename_wcoeff"><H3>filename_wcoeff</H3></A>
<PRE>character (len=S2_STRING_LEN) :: filename_wcoeff
</PRE>
<A NAME="var_filename_sky"><H3>filename_sky</H3></A>
<PRE>character (len=S2_STRING_LEN) :: filename_sky
</PRE>
<A NAME="var_filename_out"><H3>filename_out</H3></A>
<PRE>character (len=S2_STRING_LEN) :: filename_out
</PRE>
<A NAME="var_wavelet_type"><H3>wavelet_type</H3></A>
<PRE>character (len=S2_STRING_LEN) :: wavelet_type
</PRE>
<A NAME="var_file_extension_sky"><H3>file_extension_sky</H3></A>
<PRE>integer :: file_extension_sky
</PRE>
<A NAME="var_sky_mask"><H3>sky_mask</H3></A>
<PRE>type (s2_sky) :: sky_mask
</PRE>
<A NAME="var_tr_mask"><H3>tr_mask</H3></A>
<PRE>type (cswt_tr) :: tr_mask
</PRE>
<A NAME="var_mode_cswt"><H3>mode_cswt</H3></A>
<PRE>logical :: mode_cswt = .false.
</PRE>
<A NAME="var_mode_morph"><H3>mode_morph</H3></A>
<PRE>logical :: mode_morph = .false.
</PRE>
<A NAME="var_mode_convert"><H3>mode_convert</H3></A>
<PRE>logical :: mode_convert = .false.
</PRE>

<HR><H2> Description of Subroutines and Functions </H2>
<A NAME="subroutine_parse_options"><H3>parse_options</H3></A>
<PRE>subroutine parse_options ()
    ! Calls: getArgument
end subroutine parse_options
</PRE>
 Parse the options passed when program called.
! @author J. D. McEwen (mcewen@mrao.cam.ac.uk)
<P>
<STRONG>Version:</STRONG> 0.1 - November 2004
</HTML>
