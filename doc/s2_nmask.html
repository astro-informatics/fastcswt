<HTML>
<HEAD>
   <TITLE> program s2_nmask (generated by f90doc) </TITLE>
  <LINK rel="stylesheet" href="stylesheet.css" type="text/css" /> </HEAD>
<H1> Program s2_nmask </H1>
<PRE>program s2_nmask

        ! Uses
    use <A HREF="s2_types_mod.html">s2_types_mod</A>
    use <A HREF="s2_error_mod.html">s2_error_mod</A>
    use <A HREF="s2_sky_mod.html">s2_sky_mod</A>
    use <A HREF="s2_distn_mod.html">s2_distn_mod</A>
    use <A HREF="s2_ylm_mod.html">s2_ylm_mod</A>

        ! Calls
    call parse_options
    call s2_error
    call s2_sky_free
    call s2_sky_get_map
    call s2_sky_io_fits_write
    call s2_sky_write_map_file

        ! Variables
    real (kind=s2_sp), parameter :: <A HREF="s2_nmask.html#var_zero_tol">ZERO_TOL</A> = 1e-5
    character (len=*), parameter :: <A HREF="s2_nmask.html#var_map_file">MAP_FILE</A> = 'map'
    character (len=*), parameter :: <A HREF="s2_nmask.html#var_sky_file">SKY_FILE</A> = 'sky'
    integer :: <A HREF="s2_nmask.html#var_file_type">file_type</A> = S2_SKY_FILE_TYPE_MAP
    integer :: <A HREF="s2_nmask.html#var_ext">ext</A> = 1
    character (len=S2_STRING_LEN) :: <A HREF="s2_nmask.html#var_file_type_str">file_type_str</A> = MAP_FILE
    character (len=S2_STRING_LEN) :: <A HREF="s2_nmask.html#var_filename_mask">filename_mask</A>
    character (len=S2_STRING_LEN) :: <A HREF="s2_nmask.html#var_filename_out">filename_out</A>
    type (s2_sky) :: <A HREF="s2_nmask.html#var_mask">mask</A>
    type (s2_sky) :: <A HREF="s2_nmask.html#var_nmask">nmask</A>
    real (kind=s2_sp), allocatable, dimension (:) :: <A HREF="s2_nmask.html#var_mask_map">mask_map</A>
    real (kind=s2_sp), allocatable, dimension (:) :: <A HREF="s2_nmask.html#var_nmask_map">nmask_map</A>
    type (s2_sky) :: <A HREF="s2_nmask.html#var_ylm1_real">ylm1_real</A>
    type (s2_sky) :: <A HREF="s2_nmask.html#var_ylm1_imag">ylm1_imag</A>
    type (s2_sky) :: <A HREF="s2_nmask.html#var_ylm2_real">ylm2_real</A>
    type (s2_sky) :: <A HREF="s2_nmask.html#var_ylm2_imag">ylm2_imag</A>
    real (kind=s2_sp), allocatable, dimension (:) :: <A HREF="s2_nmask.html#var_ylm1_real_map">ylm1_real_map</A>
    real (kind=s2_sp), allocatable, dimension (:) :: <A HREF="s2_nmask.html#var_ylm1_imag_map">ylm1_imag_map</A>
    real (kind=s2_sp), allocatable, dimension (:) :: <A HREF="s2_nmask.html#var_ylm2_real_map">ylm2_real_map</A>
    real (kind=s2_sp), allocatable, dimension (:) :: <A HREF="s2_nmask.html#var_ylm2_imag_map">ylm2_imag_map</A>
    complex (kind=s2_spc), allocatable, dimension (:,:,:,:) :: <A HREF="s2_nmask.html#var_cov">cov</A>
    integer :: <A HREF="s2_nmask.html#var_ipix">ipix</A>
    integer :: <A HREF="s2_nmask.html#var_npix">npix</A>
    integer :: <A HREF="s2_nmask.html#var_nside">nside</A>
    integer :: <A HREF="s2_nmask.html#var_pix_scheme">pix_scheme</A>
    integer :: <A HREF="s2_nmask.html#var_lmax">lmax</A>
    integer :: <A HREF="s2_nmask.html#var_fail">fail</A>
    integer :: <A HREF="s2_nmask.html#var_seed">seed</A>
    integer :: <A HREF="s2_nmask.html#var_el1">el1</A>
    integer :: <A HREF="s2_nmask.html#var_m1">m1</A>
    integer :: <A HREF="s2_nmask.html#var_el2">el2</A>
    integer :: <A HREF="s2_nmask.html#var_m2">m2</A>
    real (kind=s2_sp) :: <A HREF="s2_nmask.html#var_nsigma">nsigma</A> = 1e0
    complex (kind=s2_dpc), parameter :: <A HREF="s2_nmask.html#var_i">I</A> = cmplx (0d0, 1d0)

        ! Subroutines and functions
    subroutine <A HREF="s2_nmask.html#subroutine_parse_options">parse_options</A> ()

end program s2_nmask
</PRE>
 Generate noisy masks and computed harmonic space noise covariance matrix
 (not yet outputted) from a binary mask.
<P>
 Usage: s2_nmask
   <UL>
   <LI>  [-help]: Display usage information.
   <LI>  [-mask filename_mask]: Name of input file containined mask construct 
     noisy mask from.
   <LI>  [-lmax lmax]: Harmonic lmax for computing covariance matrix.
   <LI>  [-nsigma nsigma]: Noise standard deviation.
   <LI>  [-out filename_out]: Name of output noisy mask.
   <LI>  [-file_type file_type_str (map or sky)]: String specifying file types.
   <LI>  [-ext ext (optional)]: File extension for map files.
   </UL>
<P>
<STRONG>Author:</STRONG> J. D. McEwen (mcewen@mrao.cam.ac.uk)
<P>
<STRONG>Version:</STRONG> 0.1 - February 2008

<HR><H2> Description of Variables </H2>
<A NAME="var_zero_tol"><H3>ZERO_TOL</H3></A>
<PRE>real (kind=s2_sp), parameter :: ZERO_TOL = 1e-5
</PRE>
<A NAME="var_map_file"><H3>MAP_FILE</H3></A>
<PRE>character (len=*), parameter :: MAP_FILE = 'map'
</PRE>
<A NAME="var_sky_file"><H3>SKY_FILE</H3></A>
<PRE>character (len=*), parameter :: SKY_FILE = 'sky'
</PRE>
<A NAME="var_file_type"><H3>file_type</H3></A>
<PRE>integer :: file_type = S2_SKY_FILE_TYPE_MAP
</PRE>
<A NAME="var_ext"><H3>ext</H3></A>
<PRE>integer :: ext = 1
</PRE>
<A NAME="var_file_type_str"><H3>file_type_str</H3></A>
<PRE>character (len=S2_STRING_LEN) :: file_type_str = MAP_FILE
</PRE>
<A NAME="var_filename_mask"><H3>filename_mask</H3></A>
<PRE>character (len=S2_STRING_LEN) :: filename_mask
</PRE>
<A NAME="var_filename_out"><H3>filename_out</H3></A>
<PRE>character (len=S2_STRING_LEN) :: filename_out
</PRE>
<A NAME="var_mask"><H3>mask</H3></A>
<PRE>type (s2_sky) :: mask
</PRE>
<A NAME="var_nmask"><H3>nmask</H3></A>
<PRE>type (s2_sky) :: nmask
</PRE>
<A NAME="var_mask_map"><H3>mask_map</H3></A>
<PRE>real (kind=s2_sp), allocatable, dimension (:) :: mask_map
</PRE>
<A NAME="var_nmask_map"><H3>nmask_map</H3></A>
<PRE>real (kind=s2_sp), allocatable, dimension (:) :: nmask_map
</PRE>
<A NAME="var_ylm1_real"><H3>ylm1_real</H3></A>
<PRE>type (s2_sky) :: ylm1_real
</PRE>
<A NAME="var_ylm1_imag"><H3>ylm1_imag</H3></A>
<PRE>type (s2_sky) :: ylm1_imag
</PRE>
<A NAME="var_ylm2_real"><H3>ylm2_real</H3></A>
<PRE>type (s2_sky) :: ylm2_real
</PRE>
<A NAME="var_ylm2_imag"><H3>ylm2_imag</H3></A>
<PRE>type (s2_sky) :: ylm2_imag
</PRE>
<A NAME="var_ylm1_real_map"><H3>ylm1_real_map</H3></A>
<PRE>real (kind=s2_sp), allocatable, dimension (:) :: ylm1_real_map
</PRE>
<A NAME="var_ylm1_imag_map"><H3>ylm1_imag_map</H3></A>
<PRE>real (kind=s2_sp), allocatable, dimension (:) :: ylm1_imag_map
</PRE>
<A NAME="var_ylm2_real_map"><H3>ylm2_real_map</H3></A>
<PRE>real (kind=s2_sp), allocatable, dimension (:) :: ylm2_real_map
</PRE>
<A NAME="var_ylm2_imag_map"><H3>ylm2_imag_map</H3></A>
<PRE>real (kind=s2_sp), allocatable, dimension (:) :: ylm2_imag_map
</PRE>
<A NAME="var_cov"><H3>cov</H3></A>
<PRE>complex (kind=s2_spc), allocatable, dimension (:,:,:,:) :: cov
</PRE>
<A NAME="var_ipix"><H3>ipix</H3></A>
<PRE>integer :: ipix
</PRE>
<A NAME="var_npix"><H3>npix</H3></A>
<PRE>integer :: npix
</PRE>
<A NAME="var_nside"><H3>nside</H3></A>
<PRE>integer :: nside
</PRE>
<A NAME="var_pix_scheme"><H3>pix_scheme</H3></A>
<PRE>integer :: pix_scheme
</PRE>
<A NAME="var_lmax"><H3>lmax</H3></A>
<PRE>integer :: lmax
</PRE>
<A NAME="var_fail"><H3>fail</H3></A>
<PRE>integer :: fail
</PRE>
<A NAME="var_seed"><H3>seed</H3></A>
<PRE>integer :: seed
</PRE>
<A NAME="var_el1"><H3>el1</H3></A>
<PRE>integer :: el1
</PRE>
<A NAME="var_m1"><H3>m1</H3></A>
<PRE>integer :: m1
</PRE>
<A NAME="var_el2"><H3>el2</H3></A>
<PRE>integer :: el2
</PRE>
<A NAME="var_m2"><H3>m2</H3></A>
<PRE>integer :: m2
</PRE>
<A NAME="var_nsigma"><H3>nsigma</H3></A>
<PRE>real (kind=s2_sp) :: nsigma = 1e0
</PRE>
<A NAME="var_i"><H3>I</H3></A>
<PRE>complex (kind=s2_dpc), parameter :: I = cmplx (0d0, 1d0)
</PRE>

<HR><H2> Description of Subroutines and Functions </H2>
<A NAME="subroutine_parse_options"><H3>parse_options</H3></A>
<PRE>subroutine parse_options ()
    ! Calls: getArgument
end subroutine parse_options
</PRE>
 Parse the options passed when program called.
<P>
<STRONG>Author:</STRONG> J. D. McEwen (mcewen@mrao.cam.ac.uk)
<P>
<STRONG>Version:</STRONG> 0.1 - November 2004
</HTML>
