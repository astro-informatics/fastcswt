<HTML>
<HEAD>
   <TITLE> program s2_sky2cl (generated by f90doc) </TITLE>
  <LINK rel="stylesheet" href="stylesheet.css" type="text/css" /> </HEAD>
<H1> Program s2_sky2cl </H1>
<PRE>program s2_sky2cl

        ! Uses
    use <A HREF="s2_types_mod.html">s2_types_mod</A>
    use <A HREF="s2_error_mod.html">s2_error_mod</A>
    use <A HREF="s2_sky_mod.html">s2_sky_mod</A>
    use <A HREF="s2_pl_mod.html">s2_pl_mod</A>

        ! Calls
    call parse_options
    call s2_error
    call s2_pl_conv
    call s2_pl_free
    call s2_pl_io_fits_write
    call s2_sky_compute_alm
    call s2_sky_dilate
    call s2_sky_free

        ! Variables
    character (len=*), parameter :: <A HREF="s2_sky2cl.html#var_map_file">MAP_FILE</A> = 'map'
    character (len=*), parameter :: <A HREF="s2_sky2cl.html#var_sky_file">SKY_FILE</A> = 'sky'
    character (len=S2_STRING_LEN) :: <A HREF="s2_sky2cl.html#var_filename_in">filename_in</A>
    character (len=S2_STRING_LEN) :: <A HREF="s2_sky2cl.html#var_filename_out">filename_out</A>
    character (len=S2_STRING_LEN) :: <A HREF="s2_sky2cl.html#var_filename_beam">filename_beam</A>
    character (len=S2_STRING_LEN) :: <A HREF="s2_sky2cl.html#var_file_type">file_type</A> = SKY_FILE
    type (s2_sky) :: <A HREF="s2_sky2cl.html#var_sky">sky</A>
    type (s2_pl) :: <A HREF="s2_sky2cl.html#var_cl">cl</A>
    type (s2_pl) :: <A HREF="s2_sky2cl.html#var_beam">beam</A>
    integer :: <A HREF="s2_sky2cl.html#var_lmax">lmax</A> = 0
    integer :: <A HREF="s2_sky2cl.html#var_mmax">mmax</A> = 0
    logical :: <A HREF="s2_sky2cl.html#var_new_lmax">new_lmax</A> = .false.
    logical :: <A HREF="s2_sky2cl.html#var_new_mmax">new_mmax</A> = .false.
    logical :: <A HREF="s2_sky2cl.html#var_dil1_status">dil1_status</A> = .false.
    logical :: <A HREF="s2_sky2cl.html#var_dil2_status">dil2_status</A> = .false.
    logical :: <A HREF="s2_sky2cl.html#var_norm_pres">norm_pres</A> = .false.
    logical :: <A HREF="s2_sky2cl.html#var_beam_status">beam_status</A> = .false.
    real (kind=s2_sp) :: <A HREF="s2_sky2cl.html#var_dil1">dil1</A>
    real (kind=s2_sp) :: <A HREF="s2_sky2cl.html#var_dil2">dil2</A>

        ! Subroutines and functions
    subroutine <A HREF="s2_sky2cl.html#subroutine_parse_options">parse_options</A> ()

end program s2_sky2cl
</PRE>
 Read a map from a fits file, compute the alms of the map and then the cl
 spectrum.  Write the computed cl spectrum values to the standard output.
<P>
 Usage: 
   <UL>
   <LI>  [-help]: Display usage information.
   <LI>  [-inp filename_in]: Name of sky fits file containing map to compute
     cls of.
   <LI>  [-out filename_out]: Name of ouput pl file.
   <LI>  [-beam filename_beam]: Name of beam file to convolve with only if
     present.
   <LI>  [-type file_type (''map'' or ''sky'')]: String to specify type of 
     input file.
   <LI>  [-lmax lmax]: lmax of alm representation of map.
   <LI>  [-mmax mmax]: mmax of alm representation of map.
   </UL>
<P>
<STRONG>Author:</STRONG> J. D. McEwen (mcewen@mrao.cam.ac.uk)
<P>
<STRONG>Version:</STRONG> 0.1 - March 2005

<HR><H2> Description of Variables </H2>
<A NAME="var_map_file"><H3>MAP_FILE</H3></A>
<PRE>character (len=*), parameter :: MAP_FILE = 'map'
</PRE>
<A NAME="var_sky_file"><H3>SKY_FILE</H3></A>
<PRE>character (len=*), parameter :: SKY_FILE = 'sky'
</PRE>
<A NAME="var_filename_in"><H3>filename_in</H3></A>
<PRE>character (len=S2_STRING_LEN) :: filename_in
</PRE>
<A NAME="var_filename_out"><H3>filename_out</H3></A>
<PRE>character (len=S2_STRING_LEN) :: filename_out
</PRE>
<A NAME="var_filename_beam"><H3>filename_beam</H3></A>
<PRE>character (len=S2_STRING_LEN) :: filename_beam
</PRE>
<A NAME="var_file_type"><H3>file_type</H3></A>
<PRE>character (len=S2_STRING_LEN) :: file_type = SKY_FILE
</PRE>
<A NAME="var_sky"><H3>sky</H3></A>
<PRE>type (s2_sky) :: sky
</PRE>
<A NAME="var_cl"><H3>cl</H3></A>
<PRE>type (s2_pl) :: cl
</PRE>
<A NAME="var_beam"><H3>beam</H3></A>
<PRE>type (s2_pl) :: beam
</PRE>
<A NAME="var_lmax"><H3>lmax</H3></A>
<PRE>integer :: lmax = 0
</PRE>
<A NAME="var_mmax"><H3>mmax</H3></A>
<PRE>integer :: mmax = 0
</PRE>
<A NAME="var_new_lmax"><H3>new_lmax</H3></A>
<PRE>logical :: new_lmax = .false.
</PRE>
<A NAME="var_new_mmax"><H3>new_mmax</H3></A>
<PRE>logical :: new_mmax = .false.
</PRE>
<A NAME="var_dil1_status"><H3>dil1_status</H3></A>
<PRE>logical :: dil1_status = .false.
</PRE>
<A NAME="var_dil2_status"><H3>dil2_status</H3></A>
<PRE>logical :: dil2_status = .false.
</PRE>
<A NAME="var_norm_pres"><H3>norm_pres</H3></A>
<PRE>logical :: norm_pres = .false.
</PRE>
<A NAME="var_beam_status"><H3>beam_status</H3></A>
<PRE>logical :: beam_status = .false.
</PRE>
<A NAME="var_dil1"><H3>dil1</H3></A>
<PRE>real (kind=s2_sp) :: dil1
</PRE>
<A NAME="var_dil2"><H3>dil2</H3></A>
<PRE>real (kind=s2_sp) :: dil2
</PRE>

<HR><H2> Description of Subroutines and Functions </H2>
<A NAME="subroutine_parse_options"><H3>parse_options</H3></A>
<PRE>subroutine parse_options ()
    ! Calls: getArgument
end subroutine parse_options
</PRE>
 Parse the options passed when program called.
<P>
<STRONG>Author:</STRONG> J. D. McEwen (mcewen@mrao.cam.ac.uk)
<P>
<STRONG>Version:</STRONG> 0.1 - November 2004
</HTML>
