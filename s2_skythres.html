<HTML>
<HEAD>
   <TITLE> program s2_skythres (generated by f90doc) </TITLE>
  <LINK rel="stylesheet" href="stylesheet.css" type="text/css" /> </HEAD>
<H1> Program s2_skythres </H1>
<PRE>program s2_skythres

        ! Uses
    use <A HREF="s2_types_mod.html">s2_types_mod</A>
    use <A HREF="s2_sky_mod.html">s2_sky_mod</A>
    use <A HREF="s2_error_mod.html">s2_error_mod</A>

        ! Calls
    call parse_options
    call s2_error
    call s2_sky_free
    call s2_sky_io_fits_write
    call s2_sky_thres
    call s2_sky_thres_abs
    call s2_sky_write_map_file

        ! Variables
    character (len=*), parameter :: <A HREF="s2_skythres.html#var_map_file">MAP_FILE</A> = 'map'
    character (len=*), parameter :: <A HREF="s2_skythres.html#var_sky_file">SKY_FILE</A> = 'sky'
    integer :: <A HREF="s2_skythres.html#var_file_type">file_type</A> = S2_SKY_FILE_TYPE_MAP
    integer :: <A HREF="s2_skythres.html#var_ext">ext</A> = 1
    character (len=S2_STRING_LEN) :: <A HREF="s2_skythres.html#var_filename">filename</A>
    character (len=S2_STRING_LEN) :: <A HREF="s2_skythres.html#var_filename_out">filename_out</A>
    character (len=S2_STRING_LEN) :: <A HREF="s2_skythres.html#var_file_type_str">file_type_str</A> = MAP_FILE
    type (s2_sky) :: <A HREF="s2_skythres.html#var_sky">sky</A>
    real (kind=s2_sp) :: <A HREF="s2_skythres.html#var_thres_lower">thres_lower</A> = 0e0
    real (kind=s2_sp) :: <A HREF="s2_skythres.html#var_thres_upper">thres_upper</A> = 5e0
    logical :: <A HREF="s2_skythres.html#var_abs_thres">abs_thres</A> = .false.

        ! Subroutines and functions
    subroutine <A HREF="s2_skythres.html#subroutine_parse_options">parse_options</A> ()

end program s2_skythres
</PRE>
 Threshold sky.
<P>
 Usage: 
   <UL>
   <LI>  [-help]: Display usage information.
   <LI>  [-sky filename]: Name of file containing sky to threshold.
   <LI>  [-file_type file_type_str]: String specifying file types.
   <LI>  [-ext ext (optional)]: File extension for map files.
   <LI>  [-lower thres_lower]: Lower threshold value.
   <LI>  [-upper thres_upper]: Upper threshold value.
   <LI>  [-abs_thres abs_thres (logical)]: Logical to specify whether to 
     threhold based on absolute values (in which case lower threshold is 
     used only).
   </UL>
<P>
<STRONG>Author:</STRONG> J. D. McEwen (mcewen@mrao.cam.ac.uk)
<P>
<STRONG>Version:</STRONG> 0.1 - April 2007

<HR><H2> Description of Variables </H2>
<A NAME="var_map_file"><H3>MAP_FILE</H3></A>
<PRE>character (len=*), parameter :: MAP_FILE = 'map'
</PRE>
<A NAME="var_sky_file"><H3>SKY_FILE</H3></A>
<PRE>character (len=*), parameter :: SKY_FILE = 'sky'
</PRE>
<A NAME="var_file_type"><H3>file_type</H3></A>
<PRE>integer :: file_type = S2_SKY_FILE_TYPE_MAP
</PRE>
<A NAME="var_ext"><H3>ext</H3></A>
<PRE>integer :: ext = 1
</PRE>
<A NAME="var_filename"><H3>filename</H3></A>
<PRE>character (len=S2_STRING_LEN) :: filename
</PRE>
<A NAME="var_filename_out"><H3>filename_out</H3></A>
<PRE>character (len=S2_STRING_LEN) :: filename_out
</PRE>
<A NAME="var_file_type_str"><H3>file_type_str</H3></A>
<PRE>character (len=S2_STRING_LEN) :: file_type_str = MAP_FILE
</PRE>
<A NAME="var_sky"><H3>sky</H3></A>
<PRE>type (s2_sky) :: sky
</PRE>
<A NAME="var_thres_lower"><H3>thres_lower</H3></A>
<PRE>real (kind=s2_sp) :: thres_lower = 0e0
</PRE>
<A NAME="var_thres_upper"><H3>thres_upper</H3></A>
<PRE>real (kind=s2_sp) :: thres_upper = 5e0
</PRE>
<A NAME="var_abs_thres"><H3>abs_thres</H3></A>
<PRE>logical :: abs_thres = .false.
</PRE>

<HR><H2> Description of Subroutines and Functions </H2>
<A NAME="subroutine_parse_options"><H3>parse_options</H3></A>
<PRE>subroutine parse_options ()
    ! Calls: getArgument
end subroutine parse_options
</PRE>
 Parse the options passed when program called.
<P>
<STRONG>Author:</STRONG> J. D. McEwen (mcewen@mrao.cam.ac.uk)
<P>
<STRONG>Version:</STRONG> 0.1 - November 2004
</HTML>
